{"ast":null,"code":"import _objectSpread from\"C:/Coding/BrainStation/Project-Folder/Capstone/fitness-script/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"C:/Coding/BrainStation/Project-Folder/Capstone/fitness-script/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Coding/BrainStation/Project-Folder/Capstone/fitness-script/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Coding/BrainStation/Project-Folder/Capstone/fitness-script/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Coding/BrainStation/Project-Folder/Capstone/fitness-script/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Coding/BrainStation/Project-Folder/Capstone/fitness-script/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import{BrowserRouter as Router,Route,Switch,BrowserRouter}from\"react-router-dom\";import axios from\"axios\";import CssBaseline from\"@material-ui/core/CssBaseline\";import{createMuiTheme,ThemeProvider}from\"@material-ui/core/styles\";import Home from\"./pages/Home\";import Login from'./pages/Login';import Signup from'./pages/Signup';import SelectWorkout from'./components/SelectWorkout/SelectWorkout';import CreateWorkout from'./components/CreateWorkout/CreateWorkout';import CreateExercise from'./components/CreateExercise/CreateExercise';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var API_URL=process.env.NODE_ENV===\"production\"?'https://pure-garden-23361.herokuapp.com':'http://localhost:8080';var theme=createMuiTheme({palette:{background:{default:'#101820'//background\n},primary:{main:'#20B460'//medGreen\n},secondary:{main:'#2074b4'//blue\n},error:{main:'#701f16'//darkRed\n},delete:{main:'b42f20'}}});var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={workouts:[],currentWorkoutExercises:[],exercises:[],workoutExercise:[],id:null,workoutName:null,exerciseName:null,muscle:null,repsTime:null,weight:null,updated:false};_this.displayErrorExerciseName=function(){return _this.state.exerciseName===\"\"?true:false;};_this.displayErrorRepsTime=function(){return _this.state.repsTime===\"\"?true:false;};_this.displayErrorMuscle=function(){return _this.state.muscle===\"\"?true:false;};_this.handleChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.exerciseObj=function(e){_this.setState({exerciseName:e.target.value});};_this.createWorkouts=function(){axios.post(\"\".concat(API_URL,\"/createWorkout\"),{workoutName:_this.state.workoutName}).then(function(){axios.get(\"\".concat(API_URL,\"/createWorkout\")).then(function(response){_this.setState({workouts:response.data,updated:true});});});};_this.workoutExerciseDisplay=function(){var targetWorkout=_this.state.workouts.slice(-1)[0].id;var targetExercise=_this.state.exercises.find(function(exObj){return exObj.exerciseName===_this.state.exerciseName;}).id;axios.put(\"\".concat(API_URL,\"/createWorkoutExercise\"),{workoutId:targetWorkout,exerciseId:targetExercise}).then(function(){axios.get(\"\".concat(API_URL,\"/createWorkoutExercise\"),{}).then(function(response){_this.setState({workoutExercise:response.data});_this.changeWorkout(targetWorkout);});});};_this.changeWorkout=function(workoutId){var resultIds=_this.state.workoutExercise.map(function(workoutExercise){return workoutExercise.workoutId===workoutId?workoutExercise.exerciseId:false;});var results=_this.state.exercises.filter(function(exercise){return resultIds.includes(exercise.id);});_this.setState({currentWorkoutExercises:results});};_this.createExercise=function(){axios.post(\"\".concat(API_URL,\"/createExercise\"),{exerciseName:_this.state.exerciseName,muscle:_this.state.muscle,repsTime:_this.state.repsTime,weight:_this.state.weight}).then(function(response){axios.get(\"\".concat(API_URL,\"/createExercise\")).then(function(response){_this.setState({exercises:response.data,updated:true});});});};_this.updateExercise=function(e,id){var newExerciseList=_this.state.exercises.map(function(item){if(item.id===id){var updatedItem=_objectSpread({},item);updatedItem[e.target.name]=e.target.value;return updatedItem;};return item;});_this.setState({exercises:newExerciseList});var ui=_this.state.exercises.find(function(ex){return ex.id===id;});axios.put(\"\".concat(API_URL,\"/updateExercise/\").concat(ui.id),{exerciseName:ui.exerciseName,muscle:ui.muscle,repsTime:ui.repsTime,weight:ui.weight});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"\".concat(API_URL,\"/createExercise\")).then(function(response){_this2.setState({exercises:response.data});}).then(function(){axios.get(\"\".concat(API_URL,\"/createWorkout\")).then(function(response){_this2.setState({workouts:response.data});});}).then(function(){axios.get(\"\".concat(API_URL,\"/createWorkoutExercise\")).then(function(response){_this2.setState({workoutExercise:response.data});});});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var _this3=this;if(prevState.updated!==this.state.updated){var ex=axios.get(\"\".concat(API_URL,\"/createExercise\"));var wo=axios.get(\"\".concat(API_URL,\"/createWorkout\"));var we=axios.get(\"\".concat(API_URL,\"/createWorkoutExercise\"));axios.all([ex,wo,we]).then(axios.spread(function(){for(var _len2=arguments.length,responses=new Array(_len2),_key2=0;_key2<_len2;_key2++){responses[_key2]=arguments[_key2];}_this3.setState({exercises:responses[0].data,workouts:responses[1].data,workoutExercise:responses[2].data,updated:false});}));}}},{key:\"render\",value:function render(){var _this4=this;return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(Router,{className:\"App\",children:/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",exact:true,render:function render(){return/*#__PURE__*/_jsx(Login,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/signup\",render:function render(){return/*#__PURE__*/_jsx(Signup,{});}}),/*#__PURE__*/_jsx(Route,{path:\"/home\",component:Home}),/*#__PURE__*/_jsx(Route,{path:\"/selectWorkout\",render:function render(){return/*#__PURE__*/_jsx(SelectWorkout,{workouts:_this4.state.workouts,exercises:_this4.state.exercises,currentWorkoutExercises:_this4.state.currentWorkoutExercises,updateExercise:_this4.updateExercise,changeWorkout:_this4.changeWorkout});}}),/*#__PURE__*/_jsx(Route,{path:\"/createExercise\",render:function render(){return/*#__PURE__*/_jsx(CreateExercise,{workouts:_this4.state.workouts,exercises:_this4.state.exercises,addExercise:_this4.addExercise,updateExercise:_this4.updateExercise,createExercise:_this4.createExercise,handleChange:_this4.handleChange,displayErrorExerciseName:_this4.displayErrorExerciseName,displayErrorMuscle:_this4.displayErrorMuscle,displayErrorRepsTime:_this4.displayErrorRepsTime});}}),/*#__PURE__*/_jsx(Route,{path:\"/createWorkout\",render:function render(){return/*#__PURE__*/_jsx(CreateWorkout,{workouts:_this4.state.workouts,currentWorkoutExercises:_this4.state.currentWorkoutExercises,exercises:_this4.state.exercises,handleChange:_this4.handleChange,exerciseObj:_this4.exerciseObj,createWorkouts:_this4.createWorkouts,updateExercise:_this4.updateExercise,changeWorkout:_this4.changeWorkout,workoutExerciseDisplay:_this4.workoutExerciseDisplay});}})]})]})})})});}}]);return App;}(Component);export{App as default};;","map":{"version":3,"sources":["C:/Coding/BrainStation/Project-Folder/Capstone/fitness-script/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","axios","CssBaseline","createMuiTheme","ThemeProvider","Home","Login","Signup","SelectWorkout","CreateWorkout","CreateExercise","API_URL","process","env","NODE_ENV","theme","palette","background","default","primary","main","secondary","error","delete","App","state","workouts","currentWorkoutExercises","exercises","workoutExercise","id","workoutName","exerciseName","muscle","repsTime","weight","updated","displayErrorExerciseName","displayErrorRepsTime","displayErrorMuscle","handleChange","e","setState","target","name","value","exerciseObj","createWorkouts","post","then","get","response","data","workoutExerciseDisplay","targetWorkout","slice","targetExercise","find","exObj","put","workoutId","exerciseId","changeWorkout","resultIds","map","results","filter","exercise","includes","createExercise","updateExercise","newExerciseList","item","updatedItem","ui","ex","prevProps","prevState","wo","we","all","spread","responses","addExercise"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch, BrowserRouter } from \"react-router-dom\"\nimport axios from \"axios\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport Home from \"./pages/Home\"\nimport Login from './pages/Login'\nimport Signup from './pages/Signup'\nimport SelectWorkout from './components/SelectWorkout/SelectWorkout'\nimport CreateWorkout from './components/CreateWorkout/CreateWorkout'\nimport CreateExercise from './components/CreateExercise/CreateExercise'\n\nconst API_URL = process.env.NODE_ENV === \"production\"\n  ? 'https://pure-garden-23361.herokuapp.com'\n  : 'http://localhost:8080';\n\nconst theme = createMuiTheme({\n  palette: {\n    background: {\n      default: '#101820', //background\n    },\n    primary: {\n      main: '#20B460', //medGreen\n    },\n    secondary: {\n      main: '#2074b4', //blue\n    },\n    error: {\n      main: '#701f16', //darkRed\n    },\n    delete: {\n      main: 'b42f20',\n    },\n  }\n});\n\nexport default class App extends Component {\n\n  state = {\n    workouts: [],\n    currentWorkoutExercises: [],\n    exercises: [],\n    workoutExercise: [],\n    id: null,\n    workoutName: null,\n    exerciseName: null,\n    muscle: null,\n    repsTime: null,\n    weight: null,\n    updated: false,\n  }\n\n  displayErrorExerciseName = () => {\n    return (this.state.exerciseName === \"\" ? true : false)\n  }\n  \n  displayErrorRepsTime = () => {\n    return (this.state.repsTime === \"\" ? true : false)\n  }\n  \n  displayErrorMuscle = () => {\n    return (this.state.muscle === \"\" ? true : false)\n  }\n  \n  handleChange = (e) => {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  exerciseObj = (e) => {\n    this.setState({\n      exerciseName: e.target.value\n    })\n  }\n\n  createWorkouts = () => {\n    axios.post(`${API_URL}/createWorkout`, {\n      workoutName: this.state.workoutName,\n\n    }).then(() => {\n      axios.get(`${API_URL}/createWorkout`).then((response) => {\n        this.setState({\n          workouts: response.data,\n          updated: true,\n        });\n      });\n    });\n  };\n\n  workoutExerciseDisplay = () => {\n    const targetWorkout = this.state.workouts.slice(-1)[0].id;\n    const targetExercise = this.state.exercises.find(exObj => exObj.exerciseName === this.state.exerciseName).id;\n\n    axios.put(`${API_URL}/createWorkoutExercise`, {\n      workoutId: targetWorkout,\n      exerciseId: targetExercise,\n    }).then(() => {\n      axios.get(`${API_URL}/createWorkoutExercise`, {\n      }).then((response) => {\n        this.setState({\n          workoutExercise: response.data\n        })\n\n        this.changeWorkout(targetWorkout)\n      })\n    })\n  }\n\n  changeWorkout = (workoutId) => {\n    const resultIds = this.state.workoutExercise.map(workoutExercise => workoutExercise.workoutId === workoutId ? workoutExercise.exerciseId : false);\n    const results = this.state.exercises.filter(exercise => resultIds.includes(exercise.id));\n\n    this.setState({\n      currentWorkoutExercises: results\n    });\n  }\n\n  createExercise = () => {\n    axios.post(`${API_URL}/createExercise`, {\n      exerciseName: this.state.exerciseName,\n      muscle: this.state.muscle,\n      repsTime: this.state.repsTime,\n      weight: this.state.weight\n    }).then((response) => {\n      axios.get(`${API_URL}/createExercise`).then((response) => {\n        this.setState({\n          exercises: response.data,\n          updated: true,\n        });\n      });\n    });\n  };\n\n  updateExercise = (e, id) => {\n    const newExerciseList = this.state.exercises.map((item) => {\n      if (item.id === id) {\n        let updatedItem = {\n          ...item\n        }\n        updatedItem[e.target.name] = e.target.value\n        return updatedItem;\n      };\n      return item;\n    })\n    this.setState({ exercises: newExerciseList })\n    let ui = this.state.exercises.find((ex) => ex.id === id)\n\n    axios.put(`${API_URL}/updateExercise/${ui.id}`, {\n      exerciseName: ui.exerciseName,\n      muscle: ui.muscle,\n      repsTime: ui.repsTime,\n      weight: ui.weight\n    })\n  };\n\n  componentDidMount() {\n    axios.get(`${API_URL}/createExercise`).then((response) => {\n\n      this.setState({\n        exercises: response.data,\n      });\n    }).then(() => {\n      axios.get(`${API_URL}/createWorkout`).then((response) => {\n\n        this.setState({\n          workouts: response.data\n        });\n      });\n    }).then(() => {\n      axios.get(`${API_URL}/createWorkoutExercise`).then((response) => {\n\n        this.setState({\n          workoutExercise: response.data\n        });\n      });\n    });\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.updated !== this.state.updated) {\n\n      let ex = axios.get(`${API_URL}/createExercise`)\n      let wo = axios.get(`${API_URL}/createWorkout`)\n      let we = axios.get(`${API_URL}/createWorkoutExercise`)\n      axios.all([ex, wo, we])\n        .then(\n          axios.spread((...responses) => {\n            this.setState({\n              exercises: responses[0].data,\n              workouts: responses[1].data,\n              workoutExercise: responses[2].data,\n              updated: false,\n            });\n          })\n        )\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\" >\n        <BrowserRouter>\n          <Router className=\"App\">\n            <ThemeProvider theme={theme}>\n              <CssBaseline />\n\n              <Switch>\n                <Route path='/' exact\n                  render={() => <Login />}\n                />\n                <Route path='/signup'\n                  render={() => <Signup />}\n                />\n                <Route path='/home' component={Home} />\n                <Route path='/selectWorkout'\n                  render={() => <SelectWorkout\n                    workouts={this.state.workouts}\n                    exercises={this.state.exercises}\n                    currentWorkoutExercises={this.state.currentWorkoutExercises}\n                    updateExercise={this.updateExercise}\n                    changeWorkout={this.changeWorkout}\n                  />}\n                />\n\n                <Route path='/createExercise'\n                  render={() => <CreateExercise\n                    workouts={this.state.workouts}\n                    exercises={this.state.exercises}\n                    addExercise={this.addExercise}\n                    updateExercise={this.updateExercise}\n                    createExercise={this.createExercise}\n                    handleChange={this.handleChange}\n                    displayErrorExerciseName={this.displayErrorExerciseName}\n                    displayErrorMuscle={this.displayErrorMuscle}\n                    displayErrorRepsTime={this.displayErrorRepsTime}\n                  />}\n                />\n                <Route path='/createWorkout'\n                  render={() => <CreateWorkout\n                    workouts={this.state.workouts}\n                    currentWorkoutExercises={this.state.currentWorkoutExercises}\n                    exercises={this.state.exercises}\n                    handleChange={this.handleChange}\n                    exerciseObj={this.exerciseObj}\n                    createWorkouts={this.createWorkouts}\n                    updateExercise={this.updateExercise}\n                    changeWorkout={this.changeWorkout}\n                    workoutExerciseDisplay={this.workoutExerciseDisplay}\n                  />}\n                />\n              </Switch>\n\n            </ThemeProvider>\n          </Router>\n        </BrowserRouter>\n      </div>\n    )\n  };\n};\n\n"]},"metadata":{},"sourceType":"module"}